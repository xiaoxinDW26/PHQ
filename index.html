<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>PHQ测试程序</title>
    <meta name="viewport" content="width=device-width,inital-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 90%;
            margin: 0 auto;
            padding: 1rem;
        }
        .question {
            display: none;
            margin-bottom: 1.5rem;
            font-size: 20px;
           
        }
        .options button {
            display: block;
            margin: 0.5px 0;
            padding: 12px 20px;
            width: 100%;
            margin-top: 15px;
            text-align: center;
            word-wrap:break-word;
            background-color: #ffffff;
            border-radius: 8px;
            border:none;
            font-size: 16px;
            color: #333333;
            cursor:pointer;
            transition: all 0.2s ease;

        }
        #result {
            display: none;
            margin-top: 2rem;
            padding: 1.5rem;
            border: 1px solid #ccc;
            border-radius: 0.5rem;
        }
        .consent .warning {
            background-color: #fff3cd;
            border-color: #ffeeba;
            color: #856404;
            padding: 1rem;
            border-radius: 5rem;
            margin-bottom: 1rem;
        }
        .consent button {
            padding: 0.8rem 1.5rem;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .consent button:hover {
            background-color: #0056b3;
        }
        @media (max-width:600px) {
             h1 {
                font-size: 1.5rem;
            }
            .options button {
                padding: 0.6rem;
                font-size: 0.9rem;
            }
            #result {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <h1 style="font-size:40px">PHQ测试</h1> 
    <p><i>@baby's-breath.</i></p>
    <div class="consent" id="consent">
        <div class="warning">
           ⚠️ <strong>重要提示</strong>：PHQ 测试仅为抑郁症状的初步筛查工具，非专业诊断依据。测试结果受个人答题时的情绪、认知偏差等因素影响，可能存在偏差。若您有情绪困扰或疑似抑郁症状，请务必咨询精神科医生或专业心理咨询师，通过临床面谈、病史评估等综合方式获取专业诊断与干预建议，切勿仅凭本测试结果自行判断或调整应对方式。
        </div>
        <button id="agreeBtn">我已了解并同意，开始测试</button>
    </div>
    <!-- 题目容器，初始隐藏 -->
    <div id="question-container" style="display: none;">
        <div class="question" data-index="0">
            <p>1.做事时提不起劲或没有兴趣。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="1">
            <p>2.感到心情低落、沮丧或绝望。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="2">
            <p>3.入睡困难、睡不安稳或睡眠过多。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="3">
            <p>4.感觉疲倦或没有活力。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="4">
            <p>5.食欲不振或吃太多。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="5">
            <p>6.觉得自己很糟或觉得自己很失败，或让自己 / 家人失望。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="6">
            <p>7.行动或说话速度缓慢到别人已经察觉，或相反 —— 烦躁或坐立不安、动来动去。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="7">
            <p>8.有不如死掉或用某种方式伤害自己的念头。</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
        <div class="question" data-index="8">
            <p>9.对事物专注有困难（如看报纸或看电视时）</p >
            <div class="options">
                <button data-score="0">完全没有</button>
                <button data-score="1">几天</button>
                <button data-score="2">一半以上的天数</button>
                <button data-score="3">几乎每天</button>
            </div>
        </div>
    </div>
    <button id="next-btn" style="display: none;padding: 15px;font-size:15px;background-color: #4285f4;color: white;border:none;border-radius:4px;cursor:pointer;">下一题</button>
    <div id="result">
        <h2>测试结果</h2>
        <p id="score-text"></p >
        <p id="interpretation"></p >
    </div>
    <script>
        const consent = document.getElementById('consent');
        const agreeBtn = document.getElementById('agreeBtn');
        const questionContainer = document.getElementById('question-container');
        const questions = document.querySelectorAll('.question');
        const nextBtn = document.getElementById('next-btn');
        const result = document.getElementById('result');
        const scoreText = document.getElementById('score-text');
        const interpretation = document.getElementById('interpretation');
        let currentQuestionIndex = 0;
        let scores = new Array(questions.length).fill(0); // 存储每道题的得分，初始为0

        function showCurrentQuestion() {
            questions.forEach((question, index) => {
                if (index === currentQuestionIndex) {
                    question.style.display = 'block';
                } else {
                    question.style.display = 'none';
                }
            });
            if (currentQuestionIndex === 0) {
                nextBtn.style.display = 'none';
            } else {
                nextBtn.style.display = 'inline-block';
            }
        }

        agreeBtn.addEventListener('click', function() {
            consent.style.display = 'none';
            questionContainer.style.display = 'block';
            showCurrentQuestion();
        });

        document.querySelectorAll('.options button').forEach(button => {
            button.addEventListener('click', function() {
                const options = this.parentElement.querySelectorAll('button');
                options.forEach(opt => opt.style.backgroundColor = '');
                this.style.backgroundColor = '#e0e0e0';
                const score = parseInt(this.getAttribute('data-score'));
                scores[currentQuestionIndex] = score; // 存储当前题的得分
                if (currentQuestionIndex < questions.length - 1) {
                    nextBtn.style.display = 'inline-block';
                } else {
                    calculateResult();
                }
            });
        });

        nextBtn.addEventListener('click', function() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showCurrentQuestion();
            }
        });

        function calculateResult() {
            // 累加所有得分
            const totalScore = scores.reduce((sum, val) => sum + val, 0);
            questions.forEach(question => question.style.display = 'none');
            nextBtn.style.display = 'none';
            result.style.display = 'block';
            scoreText.textContent = `你的得分是：${totalScore}`;
            if (totalScore <= 4) {
                interpretation.textContent = '无抑郁倾向。这表明测试者在过去两周内，基本没有出现抑郁相关的症状，情绪状态相对良好。';
            } else if (totalScore <= 9) {
                interpretation.textContent = '轻度抑郁。测试者可能在过去两周内偶尔出现一些抑郁症状，对日常生活的影响相对较小，但仍需关注自身情绪变化，可通过调整生活方式，如规律作息、增加社交活动、适度运动等来改善情绪状态 。';
            } else if (totalScore <= 14) {
                interpretation.textContent = '中度抑郁。此时抑郁症状较为明显，可能已经对日常的工作、学习、社交等方面产生了一定程度的影响，建议寻求专业心理咨询师或精神科医生的帮助，进行进一步的评估和干预 ';
            } else if (totalScore <= 19) {
                interpretation.textContent = '中重度抑郁。抑郁症状严重，对日常生活功能造成显著干扰，患者可能会感到明显的痛苦，需要及时接受专业的治疗，如药物治疗、心理治疗等。';
            } else {
                interpretation.textContent = '重度抑郁。患者可能出现严重的情绪低落、兴趣丧失、自杀观念等症状，对身心健康和生活质量造成极大影响，必须立即接受专业的医学干预，通常需要药物治疗联合心理治疗，甚至可能需要住院治疗以确保患者安全。';
            }
        }
    </script>
    <p style="margin-top: 400px">版本号：V3.0.0</p>
    <a href="https://www.baidu.com">@xin的个人网站</a>
</body>
</html>